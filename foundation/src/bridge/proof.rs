// @generated by uor-crate from uor-ontology — do not edit manually

//! `proof/` namespace — Kernel-produced verification proofs attesting to algebraic properties of UOR objects and operations..
//!
//! Space: Bridge

use crate::Primitives;

/// A kernel-produced attestation that a given algebraic property holds. The root class for all proof types.
pub trait Proof<P: Primitives> {
    /// The quantum level at which this proof was verified.
    fn quantum(&self) -> P::PositiveInteger;
    /// Whether this proof has been verified by the kernel.
    fn verified(&self) -> P::Boolean;
    /// The time at which this proof was produced.
    fn timestamp(&self) -> &P::String;
    /// Associated type for `WitnessData`.
    type WitnessData: WitnessData<P>;
    /// Supporting witness data for this proof.
    fn witness(&self) -> &[Self::WitnessData];
    /// Associated type for `Identity`.
    type Identity: crate::kernel::op::Identity<P>;
    /// The algebraic identity this proof establishes. Provides a canonical object reference alongside the existing proof:criticalIdentity string property, which remains for human readability.
    fn proves_identity(&self) -> &Self::Identity;
}

/// A proof of coherence: the type system and ring structure are mutually consistent at a given quantum level.
pub trait CoherenceProof<P: Primitives>: Proof<P> {}

/// A proof of the critical identity: neg(bnot(x)) = succ(x) for all x in R_n. This is the foundational theorem of the UOR kernel.
pub trait CriticalIdentityProof<P: Primitives>: Proof<P> {
    /// Human-readable statement of the critical identity proven. E.g., 'neg(bnot(x)) = succ(x) for all x in R_n'.
    fn critical_identity(&self) -> &P::String;
}

/// Supporting data for a proof: specific examples, counter-examples checked, or intermediate computation results.
pub trait WitnessData<P: Primitives> {
    /// A specific input value used as a witness for the critical identity check.
    fn x(&self) -> &[P::Integer];
    /// The value bnot(x) for a witness x.
    fn bnot_x(&self) -> &[P::Integer];
    /// The value neg(bnot(x)) for a witness x.
    fn neg_bnot_x(&self) -> &[P::Integer];
    /// The value succ(x) for a witness x.
    fn succ_x(&self) -> &[P::Integer];
    /// Whether the identity neg(bnot(x)) = succ(x) holds for this specific witness.
    fn holds(&self) -> &[P::Boolean];
}
